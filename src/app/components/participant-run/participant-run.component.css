/* Container */
.container{height:100dvh;width:100vw;overflow:hidden;position:relative;-webkit-overflow-scrolling:touch}

/* Top Stats Bar */
.top-texts{position:absolute;top:0;left:50%;transform:translateX(-50%);background:rgba(40,48,40,.85);color:var(--color-text);padding:.8rem 1.5rem;display:flex;justify-content:center;align-items:center;gap:2rem;z-index:10;font-size:.9rem;box-shadow:0 2px 8px rgba(0,0,0,.3);border-radius:var(--radius);min-height:50px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);white-space:nowrap}
.top-texts span{display:flex;align-items:center;gap:.5rem;font-weight:600}
.top-texts i{font-size:1.1rem;color:var(--color-accent)}

/* Map & Scanner positioning */
participant-map{position:absolute;inset:0;z-index:1}
qr-scanner{background:var(--color-panel)}
.fullscreen-mode{position:fixed;inset:0;z-index:1000;background:var(--color-background)}

/* Scanning Overlay - bottom */
.scanning-overlay{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);z-index:2000;animation:fadeInSlideUp .3s ease-out}
.scanning-content{display:flex;flex-direction:row;align-items:center;gap:.6rem;color:var(--color-text-light);padding:.6rem 1rem;background:rgba(40,48,40,.95);border-radius:var(--radius);box-shadow:0 4px 16px rgba(0,0,0,.5);border:1px solid var(--color-accent);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);text-align:left}
.scanning-content h2{margin:0;font-size:.9rem;font-weight:600;color:var(--color-text-light)}
.scanning-content p{display:none}
.scanning-content ::ng-deep .custom-spinner{width:24px!important;height:24px!important}
@keyframes fadeInSlideUp{from{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}

/* Hamburger button (top-right, always fixed) */
.hamburger-menu-button{position:fixed;top:1rem;right:1rem;z-index:1002;width:2.75rem!important;height:2.75rem!important;min-width:44px!important;min-height:44px!important;border-radius:50%!important;background:rgba(40,48,40,.65)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;padding:0!important;-webkit-tap-highlight-color:transparent;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);outline:none!important;box-shadow:0 4px 12px rgba(0,0,0,.4)}
.hamburger-menu-button:hover{background:rgba(40,48,40,.8)!important;transform:scale(1.05)}
.hamburger-menu-button:active{transform:scale(.95);background:rgba(40,48,40,.75)!important}
.hamburger-menu-button:focus{outline:none!important;background:rgba(40,48,40,.65)!important}
.hamburger-menu-button .pi{text-shadow:0 0 8px rgba(0,0,0,.8),0 0 4px rgba(0,0,0,.9);filter:drop-shadow(0 1px 2px rgba(0,0,0,.8))}

/* QR button specific (inside floating-buttons container) */
.qr-scanner-icon{width:3.5rem!important;height:3.5rem!important;min-width:56px!important;min-height:56px!important;border-radius:50%!important;background:rgba(40,48,40,.65)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;box-shadow:0 4px 16px rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;padding:0!important;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.qr-scanner-icon:hover{background:rgba(40,48,40,.8)!important;color:var(--color-text-light);transform:scale(1.08);box-shadow:0 6px 20px rgba(0,0,0,.5)}
.qr-scanner-icon:active{transform:scale(.95)}
.qr-scanner-icon.scanning{opacity:.5;cursor:not-allowed;pointer-events:none}
.qr-scanner-icon .pi{font-size:1.8rem;text-shadow:0 0 8px rgba(0,0,0,.8),0 0 4px rgba(0,0,0,.9);filter:drop-shadow(0 1px 2px rgba(0,0,0,.8))}

/* Top Bars */
.compact-top-bar{position:fixed;top:1rem;left:1rem;display:flex;gap:.8rem;align-items:center;z-index:1000;background:rgba(40,48,40,.65);padding:.5rem .8rem;border-radius:var(--radius);box-shadow:0 2px 8px rgba(0,0,0,.4);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}

/* GPS Indicator */
.gps-indicator{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;border-radius:50%;transition:all .3s ease}
.gps-indicator i{font-size:1rem;transition:color .3s ease}
/* Zielony - GPS aktywny, wszystko działa */
.gps-indicator.active{background:rgba(76,175,80,.2)}
.gps-indicator.active i{color:#4caf50}
/* Czerwony - problemy (timeout, error, szukanie sygnału, słaby zasięg) */
.gps-indicator.error{background:rgba(244,67,54,.2)}
.gps-indicator.error i{color:#f44336}
/* Szary - GPS wyłączony (nieaktywny) */
.gps-indicator.off{background:rgba(128,128,128,.15)}
.gps-indicator.off i{color:#9e9e9e;opacity:.6}
.compact-stat{display:flex;align-items:center;gap:.4rem;font-weight:600;font-size:.9rem;color:var(--color-text);white-space:nowrap}
.compact-stat i{font-size:1rem;color:var(--color-accent)}

/* Menu Options */
.menu-options{display:flex;flex-direction:column;gap:1rem}

/* Menu Sections */
.menu-section{display:flex;flex-direction:column;gap:.6rem;padding-bottom:1rem;border-bottom:1px solid var(--color-border)}
.menu-section:last-child{border-bottom:none;padding-bottom:0}
.menu-section-title{font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.08em;color:var(--color-accent);margin-bottom:.4rem;padding-left:.2rem}

/* Menu Option Buttons */
.menu-option-button{width:100%;justify-content:flex-start;padding:.9rem 1rem;font-size:1rem;min-height:48px;background:rgba(40,48,40,.7)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;transition:all .2s ease;border-radius:var(--radius)!important}
.menu-option-button:hover{background:var(--color-accent)!important;color:var(--color-text-light)!important}
.menu-option-button:active{transform:scale(.98)}
.menu-option-button .pi{font-size:1.1rem;margin-right:.4rem}

/* Menu Setting Row (inline label + dropdown) */
.menu-setting-row{display:flex;align-items:center;justify-content:space-between;padding:.6rem .8rem;background:rgba(40,48,40,.5);border-radius:var(--radius);min-height:48px}
.menu-setting-label{display:flex;align-items:center;gap:.6rem;color:var(--color-text-light);font-weight:500;font-size:.95rem}
.menu-setting-label i{color:var(--color-accent);font-size:1.1rem}

/* Menu Dropdown */
::ng-deep .menu-dropdown{min-width:110px}
::ng-deep .menu-dropdown .p-dropdown{background:rgba(30,40,30,.8)!important;border:1px solid var(--color-accent)!important;border-radius:var(--radius)!important;min-height:40px}
::ng-deep .menu-dropdown .p-dropdown-label{color:var(--color-accent)!important;font-weight:600;font-size:.9rem;padding:.5rem .8rem}
::ng-deep .menu-dropdown .p-dropdown-trigger{color:var(--color-accent)!important}

/* Dropdown Panel - appendTo="body" - style globalne */
::ng-deep .p-dropdown-panel.menu-dropdown-panel,
::ng-deep body > .p-dropdown-panel{z-index:10000!important;background:var(--color-panel,#1a1f1a)!important;border:1px solid var(--color-accent,#b87333)!important;border-radius:8px!important;box-shadow:0 8px 32px rgba(0,0,0,.6)!important;overflow:hidden}
::ng-deep body > .p-dropdown-panel .p-dropdown-items-wrapper{max-height:300px!important}
::ng-deep body > .p-dropdown-panel .p-dropdown-item{color:var(--color-text,#c4c4c4)!important;padding:.75rem 1rem!important;font-size:.95rem;min-height:44px;display:flex;align-items:center}
::ng-deep body > .p-dropdown-panel .p-dropdown-item:hover{background:rgba(184,115,51,.25)!important}
::ng-deep body > .p-dropdown-panel .p-dropdown-item.p-highlight{background:var(--color-accent,#b87333)!important;color:var(--color-text-light,#f5f5f5)!important}

/* Menu Warning */
.menu-warning{display:flex;align-items:center;gap:.6rem;padding:.6rem .8rem;background:rgba(244,67,54,.15);border:1px solid rgba(244,67,54,.4);border-radius:var(--radius);font-size:.85rem;color:#ef9a9a}
.menu-warning i{color:#f44336;font-size:1rem;flex-shrink:0}

/* GPS Tracking Finished Info */
.gps-tracking-finished-info{display:flex;align-items:center;gap:.8rem;padding:.8rem 1rem;background:rgba(76,175,80,.15);border:1px solid rgba(76,175,80,.4);border-radius:var(--radius);color:#81c784;font-size:.95rem}
.gps-tracking-finished-info i{font-size:1.2rem}

/* GPS Mode Selector */
.gps-mode-selector{display:flex;flex-direction:column;gap:.8rem;margin-bottom:1.5rem}
.gps-mode-option{display:flex;align-items:center;padding:.8rem 1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);cursor:pointer;transition:all var(--transition)}
.gps-mode-option:hover{background:rgba(184,115,51,.15)}
.gps-mode-option.selected{background:var(--color-accent);box-shadow:0 0 10px rgba(184,115,51,.3)}
.gps-mode-option.selected .gps-mode-label,.gps-mode-option.selected .gps-mode-description{color:var(--color-text-light)}
.gps-mode-radio{width:1.2rem;height:1.2rem;border:1px solid var(--color-accent);border-radius:50%;margin-right:1rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.gps-mode-option.selected .gps-mode-radio{border-color:var(--color-text-light)}
.gps-mode-radio::after{content:'';width:.6rem;height:.6rem;border-radius:50%;background:var(--color-accent);opacity:0;transition:opacity var(--transition)}
.gps-mode-option.selected .gps-mode-radio::after{opacity:1;background:var(--color-text-light)}
.gps-mode-info{flex:1}
.gps-mode-label{font-weight:600;color:var(--color-text-light);font-size:1rem;display:block;margin-bottom:.2rem}
.gps-mode-description{font-size:.85rem;color:var(--color-text);opacity:.8}

/* GPS Status */
.gps-status-info{padding:1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);margin-top:1.5rem}
.gps-status-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;color:var(--color-text)}
.gps-status-item:not(:last-child){border-bottom:1px solid rgba(184,115,51,.3)}
.gps-status-label{font-weight:600;color:var(--color-text-light)}
.gps-status-value{color:var(--color-accent);font-weight:600}
.gps-auto-adjust{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);margin-top:1rem}
.gps-auto-adjust-label{color:var(--color-text-light);font-weight:600}
.gps-warning{margin-top:1.5rem;padding:1rem;background:rgba(139,37,0,.2);border:1px solid #8b2500;border-radius:var(--radius);color:var(--color-text);font-size:.9rem}
.gps-warning i{color:#ff6b6b;margin-right:.5rem}

/* Floating Buttons Container */
.floating-buttons{position:fixed;bottom:2rem;right:2rem;z-index:1001;display:flex;flex-direction:column;gap:1rem;align-items:flex-end}

/* Tracking Mode Floating Button */
.tracking-mode-floating-button{width:3.5rem!important;height:3.5rem!important;min-width:56px!important;min-height:56px!important;border-radius:50%!important;background:rgba(40,48,40,.65)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;box-shadow:0 4px 16px rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;padding:0!important;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.tracking-mode-floating-button:hover{background:rgba(40,48,40,.8)!important;color:var(--color-text-light);transform:scale(1.08);box-shadow:0 6px 20px rgba(0,0,0,.5)}
.tracking-mode-floating-button.active{background:var(--color-accent)!important;color:var(--color-text-light)!important;animation:pulse 2s ease-in-out infinite}
.tracking-mode-floating-button .pi{font-size:1.8rem}

/* Dialog styles */
::ng-deep .hamburger-menu-dialog .p-dialog{width:90%;max-width:320px}
::ng-deep .hamburger-menu-dialog .p-dialog-header{background:var(--color-panel);color:var(--color-text);border-bottom:1px solid var(--color-border);padding:1rem}
::ng-deep .hamburger-menu-dialog .p-dialog-content{background:var(--color-panel);padding:1rem}
::ng-deep .gps-settings-dialog .p-dialog{background:var(--color-panel);border:1px solid var(--color-accent);border-radius:var(--radius);box-shadow:0 12px 40px rgba(0,0,0,.8);max-width:500px;width:90vw}
::ng-deep .gps-settings-dialog .p-dialog-header{background:var(--color-panel);color:var(--color-text-light);border-bottom:1px solid var(--color-accent);padding:1.2rem}
::ng-deep .gps-settings-dialog .p-dialog-content{background:var(--color-panel);color:var(--color-text);padding:1.5rem}
::ng-deep .tracking-mode-info-dialog .p-dialog{background:var(--color-panel);border:2px solid var(--color-accent);border-radius:var(--radius);box-shadow:0 12px 40px rgba(0,0,0,.9);max-width:500px;width:90vw;position:fixed;top:2rem;left:50%;transform:translateX(-50%);margin:0}
::ng-deep .tracking-mode-info-dialog .p-dialog-header{background:var(--color-panel);color:var(--color-text-light);border-bottom:2px solid var(--color-accent);padding:1.2rem;text-align:center}
::ng-deep .tracking-mode-info-dialog .p-dialog-content{background:var(--color-panel);color:var(--color-text);padding:1.5rem}

/* Tracking Mode Info Content */
.tracking-mode-info-content{display:flex;flex-direction:column;gap:1.2rem}

/* Dark Mode Preview */
.preview-label{margin:0;font-size:.9rem;color:var(--color-text);text-align:center;opacity:.8}
.tracking-mode-preview{background:#000;border-radius:var(--radius);padding:1.5rem;display:flex;flex-direction:column;align-items:center;gap:.8rem;border:1px solid rgba(74,103,65,.3)}
.preview-time{font-size:2rem;font-weight:600;color:#4a6741;font-family:'Courier New',monospace;letter-spacing:2px}
.preview-gps-indicator{width:24px;height:24px;border-radius:50%;background:rgba(74,103,65,.2);display:flex;align-items:center;justify-content:center}
.preview-gps-indicator i{color:#4a6741;font-size:14px}
.preview-battery{font-size:.9rem;color:#4a6741;font-family:'Courier New',monospace;display:flex;align-items:center;gap:4px}
.preview-battery i{font-size:.9rem}
.preview-status-row{display:flex;align-items:center;gap:1.5rem}

.info-features{display:flex;flex-direction:column;gap:.6rem}
.info-feature{display:flex;align-items:center;gap:.8rem;padding:.5rem .6rem;background:rgba(30,40,30,.5);border-radius:var(--radius)}
.info-feature i{color:var(--color-accent);font-size:1.1rem;flex-shrink:0}
.info-feature span{color:var(--color-text);font-size:.9rem}
.info-hint{display:flex;align-items:center;gap:.8rem;padding:.7rem;background:rgba(184,115,51,.12);border:1px solid rgba(184,115,51,.25);border-radius:var(--radius)}
.info-hint i{color:var(--color-accent);font-size:1rem;flex-shrink:0}
.info-hint span{color:var(--color-text);font-size:.85rem;line-height:1.3}
.info-actions{display:flex;flex-direction:column;align-items:center;gap:.6rem;margin-top:.3rem}
.info-actions button{width:100%;padding:.9rem;font-size:1rem;border-radius:var(--radius);min-height:48px}
.info-cancel-link{color:var(--color-text);font-size:.9rem;cursor:pointer;padding:.4rem .8rem;opacity:.6;transition:opacity .2s}
.info-cancel-link:hover{opacity:1;text-decoration:underline}

/* Keyframes */
@keyframes slideInUp{from{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes pulse{0%,100%{box-shadow:0 4px 12px rgba(184,115,51,.6)}50%{box-shadow:0 4px 20px rgba(184,115,51,1)}}

/* Media Queries */

@media (max-width:768px){
  .top-texts{left:1rem;right:1rem;transform:none;padding:.6rem 1rem;gap:1rem;font-size:.8rem;width:auto;max-width:calc(100vw - 2rem)}
  .top-texts span{font-size:.8rem}
  .top-texts i{font-size:1rem}
  ::ng-deep .tracking-mode-info-dialog .p-dialog{top:1rem;width:95vw}
}

@media (max-width:480px){
  .top-texts{gap:.8rem;font-size:.75rem;padding:.5rem .8rem;min-height:45px;justify-content:space-around}
  .top-texts span{font-size:.75rem;gap:.3rem}
  .top-texts i{font-size:.9rem}
  ::ng-deep .tracking-mode-info-dialog .p-dialog{top:0.5rem}
  .hamburger-menu-button{top:.5rem;right:.5rem;width:2.75rem!important;height:2.75rem!important;min-width:44px!important;min-height:44px!important}
  .compact-top-bar{top:.5rem;left:.5rem;padding:.4rem .6rem;gap:.6rem}
  .compact-stat{font-size:.85rem;gap:.3rem}
  .compact-stat i{font-size:.9rem}
  .qr-scanner-icon{width:3rem!important;height:3rem!important;min-width:48px!important;min-height:48px!important}
  .qr-scanner-icon .pi{font-size:1.6rem}
  .scanning-overlay{bottom:1rem}
  .scanning-content{padding:.5rem .8rem;gap:.5rem}
  .gps-mode-option{padding:.6rem .8rem}
  .gps-mode-label{font-size:.9rem}
  .gps-mode-description{font-size:.8rem}
  .floating-buttons{bottom:1.5rem;right:1.5rem;gap:.8rem}
  .tracking-mode-floating-button{width:3rem!important;height:3rem!important;min-width:48px!important;min-height:48px!important}
  .tracking-mode-floating-button .pi{font-size:1.6rem}
}

@media (max-width:360px){
  .top-texts{padding:.5rem .6rem;min-height:40px;flex-wrap:wrap;gap:.3rem}
  .top-texts span{gap:.25rem}
  .hamburger-menu-button{width:2.75rem!important;height:2.75rem!important;min-width:44px!important;min-height:44px!important}
  .compact-top-bar{left:.5rem;padding:.3rem .5rem;gap:.4rem}
  .compact-stat{font-size:.8rem}
  .qr-scanner-icon{width:2.75rem!important;height:2.75rem!important;min-width:44px!important;min-height:44px!important}
  .qr-scanner-icon .pi{font-size:1.4rem}
  .scanning-overlay{bottom:.8rem}
  .scanning-content{padding:.4rem .6rem;gap:.4rem}
  .floating-buttons{bottom:1rem;right:1rem;gap:.6rem}
  .tracking-mode-floating-button{width:2.75rem!important;height:2.75rem!important;min-width:44px!important;min-height:44px!important}
  .tracking-mode-floating-button .pi{font-size:1.4rem}
}

@media (orientation:landscape) and (max-height:500px){.top-texts{padding:.4rem .6rem;font-size:.75rem;min-height:35px}}

/* =========================
   FINISH SUMMARY PANEL
   ========================= */

/* Przycisk zamknięcia podsumowania (prawy górny róg) */
.close-summary-button{
  position:fixed;
  top:1rem;
  right:1rem;
  z-index:1002;
  width:2.75rem!important;
  height:2.75rem!important;
  min-width:44px!important;
  min-height:44px!important;
  border-radius:50%!important;
  background:rgba(220,53,69,.85)!important;
  border:1px solid rgba(220,53,69,1)!important;
  color:var(--color-text-light)!important;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:all .2s ease;
  padding:0!important;
  -webkit-tap-highlight-color:transparent;
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  outline:none!important;
  box-shadow:0 4px 12px rgba(0,0,0,.4);
  animation:fadeInScale .3s ease-out
}
.close-summary-button:hover{background:rgba(220,53,69,1)!important;transform:scale(1.05)}
.close-summary-button:active{transform:scale(.95)}
.close-summary-button .pi{font-size:1.2rem;text-shadow:0 0 8px rgba(0,0,0,.8)}

/* Panel podsumowania na dole ekranu - minimalistyczny */
.finish-summary-panel{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  z-index:1001;
  background:rgba(25,35,25,.95);
  border-top:2px solid var(--color-accent);
  border-radius:var(--radius) var(--radius) 0 0;
  box-shadow:0 -4px 20px rgba(0,0,0,.5);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  transition:max-height .3s cubic-bezier(.4,0,.2,1);
  overflow:hidden;
  display:flex;
  flex-direction:column
}

/* Stan rozwinięty */
.finish-summary-panel.expanded{
  max-height:50vh
}

/* Stan zwinięty */
.finish-summary-panel.collapsed{
  max-height:65px
}

/* Uchwyt do przeciągania (swipe indicator) */
.swipe-handle{
  width:40px;
  height:4px;
  background:rgba(184,115,51,.6);
  border-radius:2px;
  margin:6px auto 4px auto;
  transition:background .2s ease;
  cursor:pointer;
  flex-shrink:0
}
.swipe-handle:hover{background:var(--color-accent)}
.swipe-handle:active{background:var(--color-accent);transform:scaleX(1.2)}

/* Widok zwinięty - wszystkie statystyki na środku */
.summary-collapsed-view{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:1.2rem;
  padding:0 1rem .5rem 1rem;
  cursor:pointer
}
.collapsed-stat{
  display:flex;
  align-items:center;
  gap:.3rem;
  font-size:.8rem;
  font-weight:600;
  color:var(--color-text-light);
  font-family:'Courier New',monospace
}
.collapsed-stat i{
  font-size:.75rem;
  color:var(--color-accent)
}

/* Dwukolumnowy kontener */
.summary-columns{
  display:flex;
  gap:.6rem;
  padding:0 .6rem .5rem .6rem;
  flex:1;
  min-height:0
}

/* Lewa kolumna - statystyki */
.stats-column{
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  gap:.25rem;
  min-width:70px;
  max-width:80px;
  flex-shrink:0;
  padding-top:.2rem
}
.stats-column .stat-item{
  display:flex;
  align-items:center;
  gap:.3rem;
  font-size:.7rem;
  font-weight:600;
  color:var(--color-text-light);
  font-family:'Courier New',monospace;
  white-space:nowrap
}
.stats-column .stat-item i{
  font-size:.7rem;
  color:var(--color-accent);
  width:.85rem;
  text-align:center
}

/* Prawa kolumna - stanowiska */
.stations-column{
  flex:1;
  display:flex;
  flex-direction:column;
  min-width:0;
  min-height:0;
  border-left:1px solid rgba(184,115,51,.3);
  padding-left:.6rem;
  overflow:hidden
}

.stations-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:.1rem 0 .3rem 0;
  color:var(--color-accent);
  font-weight:600;
  font-size:.75rem;
  cursor:pointer;
  flex-shrink:0
}
.stations-header:hover{color:var(--color-text-light)}
.stations-header i{font-size:.7rem}

/* Lista stanowisk */
.stations-list{
  flex:1;
  min-height:0;
  overflow-y:auto;
  overflow-x:hidden;
  padding-right:.3rem;
  -webkit-overflow-scrolling:touch
}
.stations-list::-webkit-scrollbar{width:3px}
.stations-list::-webkit-scrollbar-track{background:rgba(40,48,40,.5);border-radius:2px}
.stations-list::-webkit-scrollbar-thumb{background:var(--color-accent);border-radius:2px}

.station-item{
  display:flex;
  align-items:center;
  padding:.25rem .35rem;
  background:rgba(40,48,40,.5);
  border-radius:4px;
  margin-bottom:.25rem;
  font-size:.7rem;
  gap:.3rem
}
.station-item:hover{background:rgba(40,48,40,.7)}
.station-item:last-child{margin-bottom:0}

.station-name{
  flex:1;
  color:var(--color-text-light);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  min-width:0
}
.station-type{
  font-size:.65rem;
  color:var(--color-text);
  background:rgba(184,115,51,.2);
  padding:.1rem .3rem;
  border-radius:3px;
  margin-left:.3rem;
  flex-shrink:0;
  white-space:nowrap
}
.station-time{
  font-size:.7rem;
  color:var(--color-text);
  font-family:'Courier New',monospace;
  margin-left:.3rem;
  flex-shrink:0
}

/* Placeholder gdy brak danych */
.stations-placeholder{
  display:flex;
  align-items:center;
  gap:.5rem;
  padding:.5rem;
  background:rgba(40,48,40,.4);
  border:1px dashed rgba(184,115,51,.4);
  border-radius:4px;
  color:var(--color-text);
  font-size:.75rem
}
.stations-placeholder i{
  color:var(--color-accent);
  font-size:.9rem
}

/* Animacje */
@keyframes fadeInScale{
  from{opacity:0;transform:scale(.8)}
  to{opacity:1;transform:scale(1)}
}
@keyframes slideInUp{
  from{transform:translateY(100%)}
  to{transform:translateY(0)}
}
@keyframes slideDownPartial{
  from{max-height:45vh}
  to{max-height:56px}
}
@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}

/* Confirm Dialog styling - headless (bez nagłówka) */
::ng-deep .finish-confirm-dialog .p-dialog{
  background:var(--color-panel);
  border:2px solid var(--color-accent);
  border-radius:var(--radius);
  box-shadow:0 12px 40px rgba(0,0,0,.8);
  max-width:400px;
  width:90vw;
  font-family:'Special Elite',monospace;
  overflow:hidden
}
/* Ukryj nagłówek - headless dialog */
::ng-deep .finish-confirm-dialog .p-dialog-header{
  display:none!important
}
::ng-deep .finish-confirm-dialog .p-dialog-content{
  background:var(--color-panel);
  color:var(--color-text);
  padding:1.5rem 1.2rem;
  font-family:'Special Elite',monospace;
  font-size:1rem;
  line-height:1.5;
  border-radius:var(--radius) var(--radius) 0 0
}
::ng-deep .finish-confirm-dialog .p-dialog-content .p-confirmdialog-message{
  margin-left:1rem;
  color:var(--color-text)
}
::ng-deep .finish-confirm-dialog .p-dialog-footer{
  background:var(--color-panel);
  border-top:1px solid rgba(184,115,51,.3);
  padding:1rem 1.2rem;
  display:flex;
  gap:.8rem;
  justify-content:flex-end
}
::ng-deep .finish-confirm-dialog .p-confirm-dialog-icon{
  color:var(--color-accent);
  font-size:2rem
}
/* Przyciski w dialogu - spójne z aplikacją (miedziany akcent) */
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button{
  font-family:'Special Elite',monospace;
  font-size:.95rem;
  padding:.7rem 1.2rem;
  border-radius:var(--radius);
  min-height:44px;
  transition:all .2s ease
}
/* Przycisk potwierdzenia (Tak, zakończ) - pełny miedziany */
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button:not(.p-button-outlined):not(.p-button-text){
  background:var(--color-accent)!important;
  border:1px solid var(--color-accent)!important;
  color:var(--color-text-light)!important
}
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button:not(.p-button-outlined):not(.p-button-text):hover{
  background:var(--color-accent-hover)!important;
  border-color:var(--color-accent-hover)!important;
  transform:translateY(-1px);
  box-shadow:0 4px 12px rgba(184,115,51,.4)
}
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button:not(.p-button-outlined):not(.p-button-text):active{
  transform:scale(.98)
}
/* Przycisk anulowania (Anuluj) - outlined miedziany */
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button.p-button-outlined,
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button.p-button-text{
  background:transparent!important;
  border:1px solid var(--color-accent)!important;
  color:var(--color-accent)!important
}
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button.p-button-outlined:hover,
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button.p-button-text:hover{
  background:rgba(184,115,51,.2)!important;
  color:var(--color-text-light)!important;
  transform:translateY(-1px)
}
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button.p-button-outlined:active,
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button.p-button-text:active{
  transform:scale(.98)
}
/* Focus states */
::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button:focus{
  box-shadow:0 0 0 3px rgba(184,115,51,.35)!important;
  outline:none
}
/* Overlay/mask za dialogiem */
::ng-deep .finish-confirm-dialog-mask{
  background:rgba(0,0,0,.6)!important;
  backdrop-filter:blur(4px);
  -webkit-backdrop-filter:blur(4px)
}
/* Responsywność dialogu */
@media (max-width:480px){
  ::ng-deep .finish-confirm-dialog .p-dialog{
    width:95vw;
    max-width:none;
    margin:.5rem
  }
  ::ng-deep .finish-confirm-dialog .p-dialog-header{
    padding:.8rem 1rem
  }
  ::ng-deep .finish-confirm-dialog .p-dialog-content{
    padding:1rem;
    font-size:.95rem
  }
  ::ng-deep .finish-confirm-dialog .p-dialog-footer{
    padding:.8rem 1rem;
    flex-wrap:wrap
  }
  ::ng-deep .finish-confirm-dialog .p-dialog-footer .p-button{
    flex:1;
    min-width:100px;
    font-size:.9rem;
    padding:.6rem 1rem
  }
}

/* Responsywność panelu podsumowania */
@media (max-width:480px){
  .close-summary-button{top:.5rem;right:.5rem}
  .finish-summary-panel.collapsed{max-height:50px}
  .finish-summary-panel.expanded{max-height:20vh}
  .swipe-handle{width:36px;height:3px;margin:5px auto 3px auto}
  .summary-collapsed-view{padding:0 .6rem .4rem .6rem;gap:.8rem}
  .collapsed-stat{font-size:.7rem;gap:.25rem}
  .collapsed-stat i{font-size:.65rem}
  .summary-columns{gap:.5rem;padding:0 .5rem .4rem .5rem}
  .stats-column{min-width:65px;max-width:70px;gap:.2rem}
  .stats-column .stat-item{font-size:.65rem;gap:.25rem}
  .stats-column .stat-item i{font-size:.65rem;width:.75rem}
  .stations-column{padding-left:.5rem}
  .stations-header{font-size:.7rem}
  .station-item{padding:.2rem .3rem;font-size:.65rem;gap:.25rem}
  .station-type{font-size:.55rem;padding:.05rem .2rem}
  .station-time{font-size:.6rem}
}

@media (max-width:360px){
  .close-summary-button{width:2.5rem!important;height:2.5rem!important;min-width:40px!important;min-height:40px!important}
  .finish-summary-panel.collapsed{max-height:45px}
  .finish-summary-panel.expanded{max-height:22vh}
  .summary-collapsed-view{padding:0 .5rem .3rem .5rem;gap:.5rem;flex-wrap:wrap}
  .collapsed-stat{font-size:.6rem}
  .summary-columns{flex-direction:column;gap:.3rem}
  .stats-column{flex-direction:row;flex-wrap:wrap;gap:.2rem .5rem;justify-content:center;min-width:auto;max-width:none;padding-top:0}
  .stations-column{border-left:none;border-top:1px solid rgba(184,115,51,.3);padding-left:0;padding-top:.3rem}
}

@media (orientation:landscape) and (max-height:500px){
  .finish-summary-panel.expanded{max-height:25vh}
  .finish-summary-panel.collapsed{max-height:45px}
  .summary-columns{gap:.4rem}
  .summary-collapsed-view{padding:0 .8rem .3rem .8rem;gap:1rem}
}

