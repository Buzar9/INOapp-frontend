/* Container */
.container{height:100dvh;width:100vw;overflow:hidden;position:relative;-webkit-overflow-scrolling:touch}

/* Top Stats Bar */
.top-texts{position:absolute;top:0;left:50%;transform:translateX(-50%);background:rgba(40,48,40,.85);color:var(--color-text);padding:.8rem 1.5rem;display:flex;justify-content:center;align-items:center;gap:2rem;z-index:10;font-size:.9rem;box-shadow:0 2px 8px rgba(0,0,0,.3);border-radius:var(--radius);min-height:50px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);white-space:nowrap}
.top-texts span{display:flex;align-items:center;gap:.5rem;font-weight:600}
.top-texts i{font-size:1.1rem;color:var(--color-accent)}

/* Orientation Warning */
.orientation-warning-container{position:absolute;top:1rem;left:50%;transform:translateX(-50%);width:calc(100% - 2rem);max-width:400px;z-index:15;animation:slideDown .4s ease-out}
.orientation-warning-container+.top-texts{top:85px}
.message-content{display:flex;align-items:center;gap:.8rem;flex:1}
.message-text{font-size:.9rem;font-weight:600;color:var(--color-text-light);white-space:nowrap}
.rotating-phone{font-size:1.4rem;color:var(--color-text-light);animation:phoneRotate 2s ease-in-out infinite}

/* Map & Scanner positioning */
participant-map{position:absolute;inset:0;z-index:1}
qr-scanner{background:var(--color-panel)}
.fullscreen-mode{position:fixed;inset:0;z-index:1000;background:var(--color-background)}

/* Scanning Overlay */
.scanning-overlay{position:fixed;bottom:2rem;right:2rem;z-index:2000;animation:slideInUp .3s ease-out}
.scanning-content{display:flex;align-items:center;gap:1rem;color:var(--color-text-light);padding:1rem 1.2rem;background:rgba(40,48,40,.9);border-radius:var(--radius);box-shadow:0 8px 32px rgba(0,0,0,.6);border:1px solid var(--color-accent);min-width:200px;max-width:300px;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.scanning-content h2{display:none}
.scanning-content p{margin:0;font-size:.9rem;opacity:.9;flex:1}
.scanning-content ::ng-deep .custom-spinner{width:24px!important;height:24px!important;flex-shrink:0}

/* Hamburger button (top-left, always fixed) */
.hamburger-menu-button{position:fixed;top:1rem;left:1rem;z-index:1002;width:2.8rem!important;height:2.8rem!important;border-radius:50%!important;background:rgba(40,48,40,.65)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;padding:0!important;-webkit-tap-highlight-color:transparent;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);outline:none!important;box-shadow:0 4px 12px rgba(0,0,0,.4)}
.hamburger-menu-button:hover{background:rgba(40,48,40,.8)!important;transform:scale(1.05)}
.hamburger-menu-button:active{transform:scale(.95);background:rgba(40,48,40,.75)!important}
.hamburger-menu-button:focus{outline:none!important;background:rgba(40,48,40,.65)!important}
.hamburger-menu-button .pi{text-shadow:0 0 8px rgba(0,0,0,.8),0 0 4px rgba(0,0,0,.9);filter:drop-shadow(0 1px 2px rgba(0,0,0,.8))}

/* QR button specific (inside floating-buttons container) */
.qr-scanner-icon{width:3.5rem!important;height:3.5rem!important;border-radius:50%!important;background:rgba(40,48,40,.65)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;box-shadow:0 4px 16px rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;padding:0!important;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.qr-scanner-icon:hover{background:rgba(40,48,40,.8)!important;color:var(--color-text-light);transform:scale(1.08);box-shadow:0 6px 20px rgba(0,0,0,.5)}
.qr-scanner-icon:active{transform:scale(.95)}
.qr-scanner-icon .pi{font-size:1.8rem;text-shadow:0 0 8px rgba(0,0,0,.8),0 0 4px rgba(0,0,0,.9);filter:drop-shadow(0 1px 2px rgba(0,0,0,.8))}

/* Top Bars */
.compact-top-bar,.finish-top-bar{position:fixed;top:1rem;right:1rem;display:flex;gap:.8rem;align-items:center;z-index:1000;background:rgba(40,48,40,.65);padding:.5rem .8rem;border-radius:var(--radius);box-shadow:0 2px 8px rgba(0,0,0,.4);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.compact-stat{display:flex;align-items:center;gap:.4rem;font-weight:600;font-size:.9rem;color:var(--color-text);white-space:nowrap}
.compact-stat i{font-size:1rem;color:var(--color-accent)}
.finish-top-bar .p-button-danger{background:rgba(40,48,40,.85)!important;border:1px solid var(--color-danger,#dc3545)!important;color:var(--color-danger,#dc3545)!important;width:2.2rem!important;height:2.2rem!important;padding:0!important}
.finish-top-bar .p-button-danger:hover{background:var(--color-danger,#dc3545)!important;color:var(--color-text-light)!important;transform:scale(1.05)}

/* Menu Options */
.menu-options{display:flex;flex-direction:column;gap:.8rem}
.menu-option-button{width:100%;justify-content:flex-start;padding:.8rem 1rem;font-size:1rem;background:rgba(40,48,40,.7)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;transition:all .3s ease}
.menu-option-button:hover,.menu-option-button.tracking-active{background:var(--color-accent)!important;color:var(--color-text-light)!important}
.menu-option-button:active{transform:scale(.98)}
.tracking-mode-button{border-color:var(--color-accent)!important}
.tracking-mode-button:hover{background:var(--color-accent)!important}

/* GPS Tracking Finished Info */
.gps-tracking-finished-info{display:flex;align-items:center;gap:.8rem;padding:.8rem 1rem;background:rgba(76,175,80,.15);border:1px solid rgba(76,175,80,.4);border-radius:var(--radius);color:#81c784;font-size:.95rem}
.gps-tracking-finished-info i{font-size:1.2rem}

/* Auto Screen Dimming Section */
.auto-dimming-section{margin-top:1rem;padding:1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius)}
.auto-dimming-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.8rem}
.auto-dimming-label{color:var(--color-text-light);font-weight:600;font-size:.95rem}
.auto-dimming-delay{display:flex;align-items:center;gap:.8rem;margin-bottom:.8rem}
.delay-label{color:var(--color-text);font-size:.9rem;min-width:80px}
.auto-dimming-info{display:flex;align-items:flex-start;gap:.6rem;padding:.6rem;background:rgba(184,115,51,.15);border-radius:var(--radius);font-size:.85rem;color:var(--color-text)}
.auto-dimming-info i{color:var(--color-accent);font-size:1rem;margin-top:.1rem;flex-shrink:0}

.menu-info{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-border);display:flex;flex-direction:column;gap:.6rem}
.menu-info-item{display:flex;align-items:center;gap:.6rem;font-size:.95rem;color:var(--color-text)}
.menu-info-item i{color:var(--color-accent);font-size:1.1rem}

/* GPS Mode Selector */
.gps-mode-selector{display:flex;flex-direction:column;gap:.8rem;margin-bottom:1.5rem}
.gps-mode-option{display:flex;align-items:center;padding:.8rem 1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);cursor:pointer;transition:all var(--transition)}
.gps-mode-option:hover{background:rgba(184,115,51,.15)}
.gps-mode-option.selected{background:var(--color-accent);box-shadow:0 0 10px rgba(184,115,51,.3)}
.gps-mode-option.selected .gps-mode-label,.gps-mode-option.selected .gps-mode-description{color:var(--color-text-light)}
.gps-mode-radio{width:1.2rem;height:1.2rem;border:1px solid var(--color-accent);border-radius:50%;margin-right:1rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.gps-mode-option.selected .gps-mode-radio{border-color:var(--color-text-light)}
.gps-mode-radio::after{content:'';width:.6rem;height:.6rem;border-radius:50%;background:var(--color-accent);opacity:0;transition:opacity var(--transition)}
.gps-mode-option.selected .gps-mode-radio::after{opacity:1;background:var(--color-text-light)}
.gps-mode-info{flex:1}
.gps-mode-label{font-weight:600;color:var(--color-text-light);font-size:1rem;display:block;margin-bottom:.2rem}
.gps-mode-description{font-size:.85rem;color:var(--color-text);opacity:.8}

/* GPS Status */
.gps-status-info{padding:1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);margin-top:1.5rem}
.gps-status-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;color:var(--color-text)}
.gps-status-item:not(:last-child){border-bottom:1px solid rgba(184,115,51,.3)}
.gps-status-label{font-weight:600;color:var(--color-text-light)}
.gps-status-value{color:var(--color-accent);font-weight:600}
.gps-auto-adjust{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);margin-top:1rem}
.gps-auto-adjust-label{color:var(--color-text-light);font-weight:600}
.gps-warning{margin-top:1.5rem;padding:1rem;background:rgba(139,37,0,.2);border:1px solid #8b2500;border-radius:var(--radius);color:var(--color-text);font-size:.9rem}
.gps-warning i{color:#ff6b6b;margin-right:.5rem}

/* Floating Buttons Container */
.floating-buttons{position:fixed;bottom:2rem;right:2rem;z-index:1001;display:flex;flex-direction:column;gap:1rem;align-items:flex-end}

/* Tracking Mode Floating Button */
.tracking-mode-floating-button{width:3.5rem!important;height:3.5rem!important;border-radius:50%!important;background:rgba(40,48,40,.65)!important;border:1px solid var(--color-accent)!important;color:var(--color-accent)!important;box-shadow:0 4px 16px rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;padding:0!important;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
.tracking-mode-floating-button:hover{background:rgba(40,48,40,.8)!important;color:var(--color-text-light);transform:scale(1.08);box-shadow:0 6px 20px rgba(0,0,0,.5)}
.tracking-mode-floating-button.active{background:var(--color-accent)!important;color:var(--color-text-light)!important;animation:pulse 2s ease-in-out infinite}
.tracking-mode-floating-button .pi{font-size:1.8rem}

/* Dialog styles */
::ng-deep .hamburger-menu-dialog .p-dialog{width:90%;max-width:320px}
::ng-deep .hamburger-menu-dialog .p-dialog-header{background:var(--color-panel);color:var(--color-text);border-bottom:1px solid var(--color-border);padding:1rem}
::ng-deep .hamburger-menu-dialog .p-dialog-content{background:var(--color-panel);padding:1rem}
::ng-deep .gps-settings-dialog .p-dialog{background:var(--color-panel);border:1px solid var(--color-accent);border-radius:var(--radius);box-shadow:0 12px 40px rgba(0,0,0,.8);max-width:500px;width:90vw}
::ng-deep .gps-settings-dialog .p-dialog-header{background:var(--color-panel);color:var(--color-text-light);border-bottom:1px solid var(--color-accent);padding:1.2rem}
::ng-deep .gps-settings-dialog .p-dialog-content{background:var(--color-panel);color:var(--color-text);padding:1.5rem}
::ng-deep .tracking-mode-info-dialog .p-dialog{background:var(--color-panel);border:2px solid var(--color-accent);border-radius:var(--radius);box-shadow:0 12px 40px rgba(0,0,0,.9);max-width:500px;width:90vw}
::ng-deep .tracking-mode-info-dialog .p-dialog-header{background:var(--color-panel);color:var(--color-text-light);border-bottom:2px solid var(--color-accent);padding:1.2rem;text-align:center}
::ng-deep .tracking-mode-info-dialog .p-dialog-content{background:var(--color-panel);color:var(--color-text);padding:1.5rem}

/* Tracking Mode Info Content */
.tracking-mode-info-content{display:flex;flex-direction:column;gap:1.5rem}
.info-title{font-size:1.1rem;font-weight:600;color:var(--color-text-light);text-align:center;margin:0 0 1rem}
.info-features{display:flex;flex-direction:column;gap:.8rem}
.info-feature{display:flex;align-items:flex-start;gap:.8rem;padding:.6rem;background:rgba(30,40,30,.7);border-radius:var(--radius)}
.info-feature i{color:var(--color-accent);font-size:1.2rem;margin-top:.2rem;flex-shrink:0}
.info-feature span{color:var(--color-text);font-size:.95rem;line-height:1.4}
.info-platform-message{background:rgba(184,115,51,.2);border:1px solid var(--color-accent);border-radius:var(--radius);padding:1rem;display:flex;align-items:center;gap:.8rem}
.info-platform-message i{color:var(--color-accent);font-size:1.3rem;flex-shrink:0}
.info-platform-message span{color:var(--color-text-light);font-size:.9rem;line-height:1.4}
.info-auto-dimming-section{background:rgba(30,40,30,.7);border:1px solid var(--color-accent);border-radius:var(--radius);padding:1rem}
.info-auto-dimming-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.8rem}
.info-auto-dimming-label{color:var(--color-text-light);font-weight:600;font-size:.95rem}
.info-auto-dimming-delay{display:flex;align-items:center;gap:.8rem;margin-bottom:.8rem}
.info-auto-dimming-hint{display:flex;align-items:flex-start;gap:.6rem;padding:.6rem;background:rgba(184,115,51,.15);border-radius:var(--radius);font-size:.85rem;color:var(--color-text)}
.info-auto-dimming-hint i{color:var(--color-accent);font-size:1rem;margin-top:.1rem;flex-shrink:0}
.info-actions{display:flex;flex-direction:column;gap:.8rem;margin-top:1rem}
.info-actions button{width:100%;padding:.8rem;font-size:1rem;border-radius:var(--radius)}

/* Keyframes */
@keyframes slideDown{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes slideInUp{from{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes phoneRotate{0%,100%{transform:rotate(0)}25%,75%{transform:rotate(-90deg)}}
@keyframes pulse{0%,100%{box-shadow:0 4px 12px rgba(184,115,51,.6)}50%{box-shadow:0 4px 20px rgba(184,115,51,1)}}

/* Media Queries */
@media (min-width:769px){.orientation-warning-container,.orientation-warning-container+.top-texts{display:none}}

@media (max-width:768px){
  .top-texts{left:1rem;right:1rem;transform:none;padding:.6rem 1rem;gap:1rem;font-size:.8rem;width:auto;max-width:calc(100vw - 2rem)}
  .top-texts span{font-size:.8rem}
  .top-texts i{font-size:1rem}
}

@media (max-width:480px){
  .top-texts{gap:.8rem;font-size:.75rem;padding:.5rem .8rem;min-height:45px;justify-content:space-around}
  .top-texts span{font-size:.75rem;gap:.3rem}
  .top-texts i{font-size:.9rem}
  .orientation-warning-container{top:.5rem;width:calc(100% - 1rem);max-width:none}
  .orientation-warning-container+.top-texts{top:65px}
  .message-text{font-size:.8rem}
  .rotating-phone{font-size:1.2rem}
  .hamburger-menu-button{top:.5rem;left:.5rem;width:2.5rem!important;height:2.5rem!important}
  .compact-top-bar,.finish-top-bar{top:.5rem;right:.5rem;padding:.4rem .6rem;gap:.6rem}
  .compact-stat{font-size:.85rem;gap:.3rem}
  .compact-stat i{font-size:.9rem}
  .qr-scanner-icon{width:3rem!important;height:3rem!important}
  .qr-scanner-icon .pi{font-size:1.6rem}
  .scanning-overlay{bottom:1.5rem;right:1.5rem}
  .scanning-content{padding:.8rem 1rem;gap:.8rem;min-width:180px;max-width:260px}
  .scanning-content p{font-size:.85rem}
  .gps-mode-option{padding:.6rem .8rem}
  .gps-mode-label{font-size:.9rem}
  .gps-mode-description{font-size:.8rem}
  .floating-buttons{bottom:1.5rem;right:1.5rem;gap:.8rem}
  .tracking-mode-floating-button{width:3rem!important;height:3rem!important}
  .tracking-mode-floating-button .pi{font-size:1.6rem}
}

@media (max-width:360px){
  .top-texts{padding:.5rem .6rem;min-height:40px;flex-wrap:wrap;gap:.3rem}
  .top-texts span{gap:.25rem}
  .hamburger-menu-button{width:2.2rem!important;height:2.2rem!important}
  .compact-top-bar,.finish-top-bar{padding:.3rem .5rem;gap:.4rem}
  .compact-stat{font-size:.8rem}
  .qr-scanner-icon{width:2.5rem!important;height:2.5rem!important}
  .qr-scanner-icon .pi{font-size:1.4rem}
  .scanning-overlay{bottom:1rem;right:1rem}
  .scanning-content{padding:.7rem .9rem;gap:.6rem;min-width:160px;max-width:240px}
  .scanning-content p{font-size:.8rem}
  .floating-buttons{bottom:1rem;right:1rem;gap:.6rem}
  .tracking-mode-floating-button{width:2.5rem!important;height:2.5rem!important}
  .tracking-mode-floating-button .pi{font-size:1.4rem}
}

@media (orientation:landscape){.orientation-warning-container,.orientation-warning-container+.top-texts{display:none}}
@media (orientation:landscape) and (max-height:500px){.top-texts{padding:.4rem .6rem;font-size:.75rem;min-height:35px}}
